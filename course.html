<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SmartClass | All Courses</title>

  <!-- Vue.js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="course.css">

  <style>
    /* small badge style if not already in your css */
    .cart-badge {
      background: #ff3b2f;
      color: #fff;
      border-radius: 50%;
      padding: 3px 8px;
      font-size: 12px;
      margin-left: 6px;
      font-weight: 700;
      vertical-align: middle;
    }

    /* "Showing results" text */
    .search-meta {
      max-width: 1200px;
      margin: 0 auto 12px;
      padding: 0 20px;
      color: #444;
      font-weight: 600;
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: #4c51bf;
      color: white;
      padding: 14px 20px;
      border-radius: 8px;
      font-weight: 600;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s ease;
      z-index: 2000;
    }

    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }

    .toast.error {
      background: #ff3b2f;
    }
  </style>
</head>
<body>
  <div id="app">

    <!-- Header -->
    <header class="navbar">
      <div class="container">
        <div class="logo">
          <a href="index.html">SmartClass</a>
        </div>
        <nav>
          <ul class="nav-list">
            <li><a href="index.html" class="nav-link">Home</a></li>
            <li><a href="course.html" class="nav-link active">Courses</a></li>
            
            <li>
              <a href="cart.html" class="signup-btn" @click.prevent="goToCart">
                <i class="fas fa-shopping-cart"></i> Cart
                <span v-if="cart.length > 0" class="cart-badge">{{ cart.length }}</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Page Title -->
    <section class="page-banner">
      <h1>Explore All Courses</h1>
      <p>Browse our complete collection of high-quality learning programs designed for your growth.</p>
    </section>

    <!-- Courses Header & Search/Filter -->
    <section class="courses-header-bar">
      <div class="courses-header">
        <h2></h2>
        <div class="filter-bar">
          <select v-model="selectedCategory" class="filter-select">
            <option value="">All Categories</option>
            <option v-for="cat in categories" :key="cat">{{ cat }}</option>
          </select>
          <select v-model="selectedSort" class="filter-select">
            <option value="">Sort By</option>
            <option value="rating">Best Rating</option>
            <option value="priceLow">Price: Low to High</option>
            <option value="priceHigh">Price: High to Low</option>
          </select>
          <button @click="clearFilters" class="clear-btn">X</button>
        </div>
      </div>

      <div class="search-bar">
        <input type="text" placeholder="Search for a course..." v-model="searchQuery" @keyup.enter="searchCourses">
        <button @click="searchCourses">Search</button>
      </div>
    </section>

    <!-- show meta when searching -->
    <div v-if="searchQuery.trim() !== ''" class="search-meta">
      Showing {{ filteredCourses.length }} result<span v-if="filteredCourses.length !== 1">s</span> for "<strong>{{ searchQuery }}</strong>"
    </div>

    <!-- All Courses Section -->
    <section class="courses" id="courses">

      <!-- No Courses Found -->
      <div v-if="filteredCourses.length === 0" class="no-course">
        ❌ Course not available for now.
      </div>

      <!-- Courses Grid -->
      <div v-else class="course-grid">
        <div class="course-card" v-for="course in filteredCourses" :key="course.id">
          <img :src="course.image" :alt="course.title">
          <div class="info">
            <h3>{{ course.title }}</h3>
            <p class="instructor">{{ course.category }} • {{ course.instructor }}</p>
            <div class="rating-box">
              <span class="star">★</span>
              {{ course.rating }}
              <span class="review-count">({{ course.reviews }} ratings)</span>
            </div>
            <div class="price">${{ course.price }}</div>
          </div>

          <div class="overlay">
            <h4>{{ course.title }}</h4>
            <p><strong>Bestseller</strong> • Updated Oct 2025</p>
            <p>2h • All Levels • Subtitles</p>
            <ul>
              <li v-for="detail in course.details" :key="detail">{{ detail }}</li>
            </ul>
            <div class="overlay-bottom">
              <span class="overlay-price">${{ course.price }}</span>
              <button class="btn-cart" @click="addToCart(course)">Add to Cart</button>
            </div>
          </div>
        </div>
      </div>

    </section>

    <!-- Toast -->
    <div v-if="toastMessage" :class="['toast', toastType, { show: showToast }]">
      {{ toastMessage }}
    </div>

    <!-- Footer -->
    <footer>
      &copy; 2025 SmartClass. All rights reserved.
    </footer>
  </div>

  <!-- Vue Script -->
  <script>
    new Vue({
      el: '#app',
      data: {
        searchQuery: '',
        selectedCategory: '',
        selectedSort: '',
        cart: JSON.parse(localStorage.getItem('cart')) || [],
        toastMessage: '',
        showToast: false,
        toastType: '',
        courses: [
          // --- Development ---
          { id: 1, title: 'Web Development Bootcamp', category: 'Development', instructor: 'John Doe', rating: 4.8, reviews: 10200, price: 49.99, image: 'images/web development.jpg', details: ['HTML, CSS, JS', 'Real projects', 'Deploy professionally'] },
          { id: 2, title: 'React Frontend Development', category: 'Development', instructor: 'Chris Walker', rating: 4.7, reviews: 7800, price: 44.99, image: 'images/react.jpg', details: ['React Hooks', 'Components', 'Deploy to Netlify'] },
          { id: 3, title: 'Mobile App Development with Flutter', category: 'Development', instructor: 'Diana Brooks', rating: 4.6, reviews: 6200, price: 39.99, image: 'images/flutter.jpg', details: ['Dart Language', 'Cross-platform UI', 'App Deployment'] },
          { id: 4, title: 'Backend Development with Node.js', category: 'Development', instructor: 'Henry Stone', rating: 4.8, reviews: 8400, price: 54.99, image: 'images/nodejs.jpg', details: ['Express.js', 'APIs & REST', 'MongoDB Integration'] },
          { id: 5, title: 'Full Stack Developer Roadmap', category: 'Development', instructor: 'Sarah Green', rating: 4.9, reviews: 9500, price: 64.99, image: 'images/fullstack.jpg', details: ['Frontend + Backend', 'Databases', 'Deployment Workflow'] },

          // --- Design ---
          { id: 6, title: 'UI/UX Design Masterclass', category: 'Design', instructor: 'Jane Smith', rating: 4.6, reviews: 8500, price: 39.99, image: 'images/uii.jpg', details: ['Master Figma', 'User-centered design', 'Portfolio-ready'] },
          { id: 7, title: 'Graphic Design Fundamentals', category: 'Design', instructor: 'Lara White', rating: 4.5, reviews: 6800, price: 34.99, image: 'images/graphic.jpg', details: ['Color Theory', 'Typography', 'Adobe Tools'] },
          { id: 8, title: 'Advanced Photoshop Techniques', category: 'Design', instructor: 'Michael Cole', rating: 4.7, reviews: 7200, price: 42.99, image: 'images/photoshop.jpg', details: ['Layer Masks', 'Photo Retouching', 'Compositing'] },
          { id: 9, title: '3D Design with Blender', category: 'Design', instructor: 'Emma Davis', rating: 4.8, reviews: 7900, price: 47.99, image: 'images/blender.jpg', details: ['Modeling', 'Lighting', 'Rendering Basics'] },
          { id: 10, title: 'Canva Design for Beginners', category: 'Design', instructor: 'Olivia Brown', rating: 4.4, reviews: 5400, price: 24.99, image: 'images/canva.jpg', details: ['Posters & Flyers', 'Brand Templates', 'Social Media Graphics'] },

          // --- Marketing ---
          { id: 11, title: 'Digital Marketing 101', category: 'Marketing', instructor: 'Mike Johnson', rating: 4.7, reviews: 7200, price: 29.99, image: 'images/digital marketing.png', details: ['SEO & Social Media', 'Email Marketing', 'Ad Strategies'] },
          { id: 12, title: 'Social Media Marketing Strategy', category: 'Marketing', instructor: 'Paula King', rating: 4.6, reviews: 6300, price: 34.99, image: 'images/socialmedia.jpg', details: ['Content Planning', 'Instagram & TikTok Growth', 'Analytics'] },
          { id: 13, title: 'Google Ads & Analytics', category: 'Marketing', instructor: 'Robert Lee', rating: 4.8, reviews: 8100, price: 44.99, image: 'images/googleads.jpg', details: ['Google Search Campaigns', 'Tracking & Reporting', 'Optimization'] },
          { id: 14, title: 'Content Writing for Brands', category: 'Marketing', instructor: 'Clara West', rating: 4.5, reviews: 5900, price: 27.99, image: 'images/contentwriting.jpg', details: ['Copywriting', 'Brand Voice', 'SEO Writing'] },
          { id: 15, title: 'Email Marketing Automation', category: 'Marketing', instructor: 'David Ross', rating: 4.7, reviews: 6400, price: 31.99, image: 'images/emailmarketing.jpg', details: ['Autoresponders', 'Customer Journeys', 'Lead Conversion'] },

          // --- Programming ---
          { id: 16, title: 'Python for Beginners', category: 'Programming', instructor: 'Emily Davis', rating: 4.9, reviews: 9300, price: 59.99, image: 'images/python.jpeg', details: ['Python Basics', 'Automation', 'Mini Projects'] },
          { id: 17, title: 'Java Programming Crash Course', category: 'Programming', instructor: 'Daniel Kim', rating: 4.7, reviews: 7200, price: 49.99, image: 'images/java.jpg', details: ['OOP in Java', 'File Handling', 'Building Apps'] },
          { id: 18, title: 'C++ Essentials for Developers', category: 'Programming', instructor: 'Kate Monroe', rating: 4.5, reviews: 6100, price: 39.99, image: 'images/cpp.jpg', details: ['Functions & Loops', 'Pointers', 'Memory Management'] },
          { id: 19, title: 'JavaScript Mastery', category: 'Programming', instructor: 'Lucas Gray', rating: 4.8, reviews: 8800, price: 45.99, image: 'images/javascript.jpg', details: ['DOM Manipulation', 'Async JS', 'Modern ES6+'] },
          { id: 20, title: 'SQL Database Management', category: 'Programming', instructor: 'Anna Reed', rating: 4.6, reviews: 6700, price: 34.99, image: 'images/sql.jpg', details: ['Queries & Joins', 'Database Design', 'MySQL Practice'] }
        ]
      },
      computed: {
        categories() {
          const cats = this.courses.map(c => c.category);
          return [...new Set(cats)];
        },
        filteredCourses() {
          let filtered = this.courses;

          if (this.selectedCategory) {
            filtered = filtered.filter(c => c.category === this.selectedCategory);
          }

          if (this.searchQuery.trim() !== '') {
            const q = this.searchQuery.toLowerCase().split(' ');
            filtered = filtered.filter(c => {
              const title = c.title.toLowerCase();
              const category = c.category.toLowerCase();
              return q.some(word => title.includes(word) || category.includes(word));
            });
          }

          if (this.selectedSort === 'rating') {
            filtered = filtered.sort((a, b) => b.rating - a.rating);
          } else if (this.selectedSort === 'priceLow') {
            filtered = filtered.sort((a, b) => a.price - b.price);
          } else if (this.selectedSort === 'priceHigh') {
            filtered = filtered.sort((a, b) => b.price - a.price);
          }

          return filtered;
        }
      },
      methods: {
        clearFilters() {
          this.selectedCategory = '';
          this.selectedSort = '';
          this.searchQuery = '';
        },
        searchCourses() {
          if (this.searchQuery.trim() === '') {
            this.showNotification('Please enter a course name to search', 'error');
            return;
          }
          this.showNotification(`Searching for "${this.searchQuery}"`);
        },
        addToCart(course) {
          const exists = this.cart.find(item => item.id === course.id);
          if (exists) {
            this.showNotification(`${course.title} is already in your cart.`, 'error');
            return;
          }
          this.cart.push(course);
          localStorage.setItem('cart', JSON.stringify(this.cart));
          this.showNotification(`${course.title} added to cart!`);
        },
        goToCart() {
          if (this.cart.length === 0) {
            this.showNotification('Your cart is empty.', 'error');
            return;
          }
          window.location.href = 'cart.html';
        },
        showNotification(message, type = '') {
          this.toastMessage = message;
          this.toastType = type;
          this.showToast = true;
          setTimeout(() => {
            this.showToast = false;
          }, 3000);
        }
      }
    });
  </script>
</body>
</html>
