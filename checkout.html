<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SmartClass | Checkout</title>

<!-- Vue.js -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<link rel="stylesheet" href="style.css">
<style>
body { background: #f8f9fa; font-family: Arial, sans-serif; margin: 0; }
.checkout-container {
  max-width: 1000px;
  margin: 40px auto;
  background: #fff;
  padding: 25px 30px;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  display: flex;
  gap: 25px;
  flex-wrap: wrap;
}
.left, .right { flex: 1 1 440px; }
h1 { width: 100%; text-align: center; margin-bottom: 15px; font-size: 26px; }

.section { margin-bottom: 15px; }
.section h3 { margin-bottom: 10px; color: #333; font-size: 18px; }

/* Form */
.form-group { margin-bottom: 10px; display: flex; flex-direction: column; }
label { font-weight: bold; margin-bottom: 4px; font-size: 14px; }
input, select {
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
  width: 100%;
}
input[type=checkbox], input[type=radio] { width: auto; margin-right: 6px; }

/* Gift + Delivery + Payment unified section */
.options-section {
  background: #f9f9f9;
  border-radius: 8px;
  padding: 15px;
  border: 1px solid #eee;
}
.option-group {
  margin-bottom: 12px;
}
.option-group label { font-weight: 600; display: block; margin-bottom: 4px; }
.delivery-options, .payment-options {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
}
.delivery-options label, .payment-option {
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
}
.payment-option i { font-size: 22px; color: #4c51bf; }
.card-details {
  margin-top: 10px;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
}

/* Cart summary */
.cart-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
}
.cart-details {
  display: flex;
  align-items: center;
  gap: 10px;
}
.cart-details img {
  width: 70px;
  height: 50px;
  object-fit: cover;
  border-radius: 6px;
}
.cart-info h4 { margin: 0; font-size: 15px; color: #222; }
.cart-info p { margin: 2px 0 0; font-size: 13px; color: #555; }
.cart-price { font-weight: 700; color: #4c51bf; font-size: 15px; }
.total-box {
  text-align: right;
  margin-top: 15px;
  font-size: 17px;
  font-weight: bold;
}
.total-line { display: flex; justify-content: space-between; padding: 4px 0; }

/* Buttons */
.btn-row {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  margin-top: 15px;
}
.checkout-btn, .back-btn {
  flex: 1;
  border: none;
  padding: 10px;
  font-size: 15px;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.3s;
}
.checkout-btn { background: #667eea; color: #fff; }
.checkout-btn:hover { background: #5a67d8; }
.back-btn { background: #ddd; color: #333; }
.back-btn:hover { background: #bbb; }

/* Toast */
.toast {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: #4c51bf;
  color: white;
  padding: 14px 20px;
  border-radius: 8px;
  font-weight: 600;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.4s ease;
  z-index: 2000;
}
.toast.show { opacity: 1; transform: translateY(0); }
.toast.error { background: #ff3b2f; }

footer { text-align: center; margin: 30px 0; color: #555; font-size: 14px; }
</style>
</head>
<body>
<div id="app">
  <header class="navbar">
    <div class="container">
      <div class="logo"><a href="index.html">SmartClass</a></div>
    </div>
  </header>

  <h1>Checkout</h1>

  <div class="checkout-container">
    <!-- Left: Form Section -->
    <div class="left">
      <div class="section">
        <h3>Customer Details</h3>
        <div class="form-group"><label>First Name</label><input v-model.trim="order.firstName" placeholder="Enter first name"></div>
        <div class="form-group"><label>Last Name</label><input v-model.trim="order.lastName" placeholder="Enter last name"></div>
        <div class="form-group"><label>Email</label><input type="email" v-model.trim="order.email" placeholder="john@example.com"></div>
        <div class="form-group"><label>Address</label><input v-model.trim="order.address" placeholder="Street address"></div>
        <div class="form-group"><label>City</label><input v-model.trim="order.city" placeholder="City name"></div>
        <div class="form-group">
          <label>State</label>
          <select v-model="order.state">
            <option disabled value="">Select State</option>
            <option v-for="state in states" :value="state">{{ state }}</option>
          </select>
        </div>
        <div class="form-group"><label>Zip/Postal Code</label><input v-model.number="order.zip" type="number" placeholder="e.g., 90001"></div>
      </div>

      <!-- Options -->
      <div class="options-section">
        <div class="option-group">
          <label><input type="checkbox" v-model="order.gift"> Ship As Gift?</label>
        </div>

        <div class="option-group">
          <label>Delivery:</label>
          <div class="delivery-options">
            <label><input type="radio" value="standard" v-model="order.delivery"> Standard ($5)</label>
            <label><input type="radio" value="express" v-model="order.delivery"> Express ($15)</label>
          </div>
        </div>

        <div class="option-group">
          <label>Payment Method:</label>
          <div class="payment-options">
            <label class="payment-option">
              <input type="radio" value="card" v-model="payment.method">
              <i class="fa-brands fa-cc-visa"></i><i class="fa-brands fa-cc-mastercard"></i> Card
            </label>
            <label class="payment-option">
              <input type="radio" value="paypal" v-model="payment.method">
              <i class="fa-brands fa-cc-paypal"></i> PayPal
            </label>
          </div>
        </div>

        <div v-if="payment.method==='card'" class="card-details">
          <input type="text" v-model="payment.cardNumber" placeholder="Card Number">
          <input type="text" v-model="payment.expiry" placeholder="MM/YY">
          <input type="text" v-model="payment.cvv" placeholder="CVV">
        </div>
      </div>

      <div class="btn-row">
        <button class="back-btn" @click="goBack">‚Üê Back</button>
        <button class="checkout-btn" @click="placeOrder">Place Order</button>
      </div>
    </div>

    <!-- Right: Order Summary -->
    <div class="right">
      <div class="section">
        <h3>Order Summary</h3>
        <div v-if="cart.length===0">
          üõí Your cart is empty.
          <a href="course.html" style="color:#4c51bf;font-weight:bold;">Browse Courses</a>
        </div>
        <div v-else>
          <div class="cart-item" v-for="(item,index) in cart" :key="index">
            <div class="cart-details">
              <img :src="item.image" :alt="item.title">
              <div class="cart-info">
                <h4>{{ item.title }}</h4>
                <p>{{ item.category }} ‚Ä¢ {{ item.instructor }}</p>
                <small>Qty: {{ item.quantity }}</small>
              </div>
            </div>
            <div class="cart-price">${{ (item.price * item.quantity).toFixed(2) }}</div>
          </div>

          <div class="total-box">
            <div class="total-line"><span>Subtotal:</span> <span>${{ subtotal.toFixed(2) }}</span></div>
            <div class="total-line"><span>Delivery:</span> <span>${{ deliveryFee.toFixed(2) }}</span></div>
            <hr>
            <div class="total-line"><span>Total:</span> <span>${{ totalPrice.toFixed(2) }}</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div v-if="toastMessage" :class="['toast', toastType, { show: showToast }]">{{ toastMessage }}</div>
  <footer>&copy; 2025 SmartClass. All rights reserved.</footer>
</div>

<script>
new Vue({
  el:'#app',
  data:{
    cart: JSON.parse(localStorage.getItem('cart')) || [],
    order: { firstName:'', lastName:'', email:'', address:'', city:'', state:'', zip:null, gift:false, delivery:'' },
    states:['Abuja','Lagos','Kano','Rivers','Oyo','Kaduna','Edo','Enugu'],
    payment:{ method:'', cardNumber:'', expiry:'', cvv:'' },
    toastMessage:'', showToast:false, toastType:''
  },
  computed:{
    subtotal(){ return this.cart.reduce((sum,item)=>sum+(item.price*item.quantity),0); },
    deliveryFee(){
      if(this.order.delivery==='express') return 15;
      if(this.order.delivery==='standard') return 5;
      return 0;
    },
    totalPrice(){ return this.subtotal + this.deliveryFee; }
  },
  methods:{
    goBack(){ window.location.href='cart.html'; },
    showNotification(message,type=''){ 
      this.toastMessage=message; 
      this.toastType=type; 
      this.showToast=true; 
      setTimeout(()=>{this.showToast=false},3000); 
    },
    placeOrder(){
      if(this.cart.length===0){ this.showNotification('Cart is empty','error'); return; }
      if(!this.order.firstName || !this.order.lastName || !this.order.email || !this.order.address || !this.order.city || !this.order.state || !this.order.zip){
        this.showNotification('Fill in all shipping info','error'); return;
      }
      if(!this.order.delivery){ this.showNotification('Select delivery option','error'); return; }
      if(!this.payment.method){ this.showNotification('Select payment method','error'); return; }
      if(this.payment.method==='card' && (!this.payment.cardNumber || !this.payment.expiry || !this.payment.cvv)){
        this.showNotification('Fill in card details','error'); return;
      }

      // Success
      this.showNotification('‚úÖ Order placed successfully!');
      localStorage.removeItem('cart');
      this.cart=[];
      this.order={ firstName:'', lastName:'', email:'', address:'', city:'', state:'', zip:null, gift:false, delivery:'' };
      this.payment={ method:'', cardNumber:'', expiry:'', cvv:'' };
    }
  }
})
</script>
</body>
</html>
